plot(displ, hwy, data=mpg)
plot(mpg$displ, mpg$hwy)
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy))
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy))
?mpg
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy, color = class))
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy, color = class, size = class, alpha = class, shape = class))
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy, color = class, size = year, alpha = cyl, shape = class))
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy, color = class, size = cyl, alpha = cyl, shape = class))
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy, color = class, size = cyl, alpha = cyl, shape = cyl))
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy, color = class, size = cyl, alpha = cyl, shape = as.character(cyl)))
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy, color = class, size = cyl, alpha = cyl, shape = as.character(cyl)))
ggplot(mpg) + geom_bar(aes(class, hwy))
ggplot(mpg) + geom_bar(aes(class))
ggplot(mpg) + geom_bar(aes(hwy, color = class))
ggplot(mpg) + geom_boxplot(aes(class, hwy))
ggplot(mpg) + geom_histogram(aes(hwy))
ggplot(mpg) +
geom_point(aes(displ, hwy)) +
geom_smooth(aes(displ, hwy))
ggplot(mpg) + geom_histogram(aes(hwy), bins = 20)
ggplot(mpg) + geom_histogram(aes(hwy), bins = 2)
ggplot(mpg) + geom_histogram(aes(hwy), bins = 2, binwidth = 20)
ggplot(mpg) + geom_histogram(aes(hwy), binwidth = 20, bins = 3)
ggplot(mpg) + geom_histogram(aes(hwy), binwidth = 20, bins = 20)
ggplot(mpg) + geom_histogram(aes(hwy), binwidth = 1, bins = 20)
ggplot(mpg) + geom_histogram(aes(hwy), bins = 20)
?geom_histogram
ggplot(mpg) + geom_histogram(aes(hwy), bins = 20)
ggplot(mpg) + geom_bar(aes(class, color = class))
ggplot(mpg) + geom_bar(aes(hwy, color = class))
ggplot(mpg) + geom_bar(aes(hwy, color = class, fill = class))
ggplot(mpg) + geom_bar(aes(class, color = class, fill = class))
ggplot(mpg) + geom_bar(aes(class, color = class))
ggplot(mpg) + geom_bar(aes(class, fill = class))
ggplot(mpg) + geom_bar(aes(x = hwy, fill = class))
ggplot(mpg) + geom_histogram(aes(x = hwy, fill = class))
ggplot(mpg) + geom_density(aes(x = hwy, fill = class))
ggplot(mpg) + geom_density(aes(x = hwy, color = class))
ggplot(mpg) + geom_bar(aes(x = hwy, color = class))
ggplot(mpg) + geom_bar(aes(x = hwy, color = class, fill = class))
ggplot(mpg) + geom_bar(aes(x = hwy, fill = class), color = "black")
ggplot(mpg) + geom_bar(aes(x = hwy, fill = class))
ggplot(mpg) +
geom_point(aes(displ, hwy)) +
geom_smooth(aes(displ, hwy, color = class))
ggplot(mpg) +
geom_point(aes(displ, hwy, color = as.character(cyl))) +
geom_smooth(aes(displ, hwy, color = as.character(cyl)))
ggplot(mpg, aes(displ, hwy, color = as.character(cyl))) +
geom_point() +
geom_smooth()
ggplot(mpg, aes(displ, hwy, color = as.character(cyl))) +
geom_point() +
geom_smooth()
ggplot(mpg) +
geom_point(aes(displ, hwy)) +
facet_grid(~drv)
ggplot(mpg) +
geom_point(aes(displ, hwy)) +
facet_grid(~drv)
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_grid(~drv)
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_wrap(~drv)
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_grid(~drv)
?facet_wrap
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_wrap(~drv, )
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_wrap(drv~ )
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_grid(drv~)
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_grid(drv~.)
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_wrap(drv~. )
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_grid(~drv)
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_grid(cyl~drv)
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_wrap(drv~cyl )
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_wrap(drv+cyl )
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_wrap(drv~cyl )
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_wrap(drv)
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_wrap(~drv)
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_wrap(~drv, nrow = 2)
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_wrap(~drv, nrow = 2, labeller = "test")
?facet_wrap
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_wrap(~drv, nrow = 2, labeller = drv)
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_wrap(~drv, nrow = 2, labeller = "label_both")
chart = ggplot(data = mpg) +
geom_bar(mapping = aes(x = class))
ggplotly(chart)
library(plotly)
chart = ggplot(data = mpg) +
geom_bar(mapping = aes(x = class))
ggplotly(chart)
?ggplotly
library(tidyverse)
library(babynames)
library(nycflights13)
# Toy datasets to use
pollution <- tribble(
~city,   ~size, ~amount,
"New York", "large",      23,
"New York", "small",      14,
"London", "large",      22,
"London", "small",      16,
"Beijing", "large",      121,
"Beijing", "small",      56
)
band <- tribble(
~name,     ~band,
"Mick",  "Stones",
"John", "Beatles",
"Paul", "Beatles"
)
instrument <- tribble(
~name,   ~plays,
"John", "guitar",
"Paul",   "bass",
"Keith", "guitar"
)
instrument2 <- tribble(
~artist,   ~plays,
"John", "guitar",
"Paul",   "bass",
"Keith", "guitar"
)
weights = tribble(
~name, ~lbs,
"Stipe", 255,
"Jan", 205,
"Israel", 185,
"Karamu", 170,
"Khabib", 150
)
babynames
babynames
select(babynames, n)
head(babynames)
str(babynames)
View(babynames)
select(babynames, -c(year, sex, prop))
select(babynames, name:n)
select(babynames, starts_with("n"))
select(babynames, ends_with("n"))
str(babynames)
filter(babynames, is.na(n), prop >= 0.08, name == "Sea")
filter(babynames, is.na(n))
filter(babynames, name == "Sea")
filter(babynames, prop >= 0.08)
filter(babynames, sex = "F", name == "Sea")
filter(babynames, sex == "F", name == "Sea")
filter(babynames, year == 1880, n %in% c(5, 6) )
filter(babynames, name %in% c( "Acura", "Lexus", "Yugo") )
arrange(babynames, n, prop)
arrange(babynames, desc(n), prop)
arrange(babynames, desc(prop))
arrange(babynames, desc(n), prop)
arrange(babynames, desc(prop))
babynames %>%
filter( sex == "F", year == 2015 ) %>%
select( name, n ) %>%
arrange( desc(prop) )
babynames %>%
filter( sex == "F", year == 2015 ) %>%
select( name, n ) %>%
arrange( desc(n) )
babynames %>%
filter( sex == "F", year == 2015 ) %>%
select( name, n ) %>%
arrange( desc(n) )
dfPlot <- babynames %>%
filter( name == "Emma", sex == "F") %>%
select( year, prop)
ggplot( dfPlot, aes( x = year, y = prop)) +
geom_point()
dfPlot <- babynames %>%
filter( name == "Xiaomin", sex == "F") %>%
select( year, prop)
dfPlot
babynames %>%
filter( name == "Xiaomin", sex == "F") %>%
select( year, prop)
babynames %>%
filter( name == "Emma", sex == "F") %>%
select( year, prop) %>%
ggplot( dfPlot, aes( x = year, y = prop)) +
geom_point()
babynames %>%
filter( name == "Emma", sex == "F") %>%
select( year, prop) %>%
ggplot( aes( x = year, y = prop)) +
geom_point()
babynames %>%
filter( name == "Emma", sex == "F") %>%
select( year, prop) %>%
ggplot( aes( x = year, y = prop)) +
geom_point() + geom_line()
babynames %>%
filter( name == "Emma", sex == "F") %>%
select( year, prop) %>%
ggplot( aes( x = year, y = prop)) +
geom_point() + geom_line() +
ggtitle( "Proportion vs Year")
babynames %>%
summarise( min_year = min(year), max_year = max(year), total = sum(n))
babynames %>%
filter( name == "Khaleesi") %>%
summarise( min_year = min(year), total = sum(n))
babynames %>%
filter( name == "Khaleesi") %>%
summarise( first_year = min(year), total = sum(n))
babynames %>%
broup_by( name, sex ) %>%
summarise( total = sum(n) ) %>%
arrange( desc(total) )
babynames %>%
group_by( name, sex ) %>%
summarise( total = sum(n) ) %>%
arrange( desc(total) )
babynames %>%
group_by( name ) %>%
summarise( total = sum(n) ) %>%
arrange( desc(total) )
babynames %>%
filter( name == "Khaleesi") %>%
summarise( first_year = min(year), total = sum(n))
babynames %>%
group_by( year ) %>%
summarise( total = sum(n) ) %>%
ggplot( aes( x = year, y = total)) + geom_line()
babynames %>%
group_by( name ) %>%
summarise( total = sum(n) ) %>%
arrange( desc(total) )
babynames %>%
group_by( name, sex ) %>%
summarise( total = sum(n) ) %>%
arrange( desc(total) )
babynames %>%
group_by( name, sex ) %>%
summarise( total = sum(n) )
babynames %>%
group_by( name, sex ) %>%
summarise( total = sum(n) ) %>%
arrange( name )
babynames %>%
group_by( name, sex ) %>%
summarise( total = sum(n) ) %>%
arrange( desc(total) )
babynames %>%
group_by( sex ) %>%
summarise( total = sum(n) )
babynames %>%
group_by( year ) %>%
summarise( total = sum(n) ) %>%
ggplot( aes( x = year, y = total)) + geom_line()
babynames %>%
group_by( year ) %>%
summarise( total = sum(n) ) %>%
ggplot( aes( x = year, y = total)) + geom_line() +
scale_y_continuous( label = comma)
ibrary( scales )
library( scales )
babynames %>%
group_by( year ) %>%
summarise( total = sum(n) ) %>%
ggplot( aes( x = year, y = total)) + geom_line() +
scale_y_continuous( label = comma)
weights
weights %>%
mutate( kg = lbs = 0.45)
weights %>%
mutate( kg = lbs * 0.45)
library(nycflights13)
nycflights13
flights
str(flights)
flights %>%
group_by( carrier ) %>%
summarize( nflight = n ) %>%
arrange( nflight )
flights %>%
group_by( carrier ) %>%
summarize( nflight = n() ) %>%
arrange( desc(nflight) )
flights %>%
group_by( carrier ) %>%
summarize( nflight = n() ) %>%
arrange( desc(nflight) ) %>%
left_join( airlines )
str(flights)
flights %>%
drop_na(arr_delay) %>%
group_by( carrier ) %>%
summarize( AveDelay = mean(dep_delay) ) %>%
arrange( desc(AveDelay) ) %>%
left_join( airlines )
flights %>%
drop_na(arr_delay) %>%
group_by( carrier ) %>%
summarize( AveDelay = mean(arr_delay) ) %>%
arrange( desc(AveDelay) ) %>%
left_join( airlines )
flights %>%
drop_na(arr_delay) %>%
group_by( carrier ) %>%
summarize( AveArrivalDelay = mean(arr_delay) ) %>%
arrange( desc(AveDelay) ) %>%
left_join( airlines )
flights %>%
drop_na(arr_delay) %>%
group_by( carrier ) %>%
summarize( AveDelay = mean(arr_delay) ) %>%
arrange( desc(AveDelay) ) %>%
left_join( airlines )
flights %>%
drop_na(arr_delay) %>%
group_by( carrier ) %>%
summarize( AveArrivalDelay = mean(arr_delay) ) %>%
arrange( desc(AveDelay) ) %>%
left_join( airlines )
flights %>%
drop_na(arr_delay) %>%
group_by( carrier ) %>%
summarize( AveArrivalDelay = mean(arr_delay) ) %>%
arrange( desc(AveArrivalDelay) ) %>%
left_join( airlines )
flights %>%
drop_na(arr_delay) %>%
group_by( dest ) %>%
summarize( mean_arr_delay = mean(arr_delay) ) %>%
arrange( desc(mean_arr_delay) ) %>%
left_join( airports )
flights %>%
drop_na(arr_delay) %>%
group_by( dest ) %>%
summarize( mean_arr_delay = mean(arr_delay) ) %>%
arrange( desc(mean_arr_delay) )
str(airports)
str(flights)
flights %>%
drop_na(arr_delay) %>%
group_by( dest ) %>%
summarize( mean_arr_delay = mean(arr_delay) ) %>%
arrange( desc(mean_arr_delay) ) %>%
mutate( name = dest ) %>%
left_join( airports )
airports
flights
flights %>%
drop_na(arr_delay) %>%
group_by( dest ) %>%
summarize( mean_arr_delay = mean(arr_delay) ) %>%
arrange( desc(mean_arr_delay) ) %>%
mutate( name = dest ) %>%
left_join( airports, by = c("dest" = "faa") )
flights %>%
drop_na(arr_delay) %>%
group_by( dest ) %>%
summarize( mean_arr_delay = mean(arr_delay) ) %>%
arrange( desc(mean_arr_delay) ) %>%
left_join( airports, by = c("dest" = "faa") )
flights %>%
group_by( carrier ) %>%
summarize( nflight = n() ) %>%
arrange( desc(nflight) ) %>%
left_join( airlines )
flights %>%
group_by( carrier ) %>%
summarize( nflight = n() ) %>%
arrange( desc(nflight) ) %>%
left_join( airlines, by = "carrier" )
flights %>%
group_by( carrier ) %>%
summarize( nflight = n() )
flights %>%
group_by( carrier ) %>%
summarize( nflight = n() ) %>%
arrange( desc(nflight) ) %>%
left_join( airlines, by = "carrier" )
flights %>%
group_by( carrier ) %>%
summarize( nflight = n() ) %>%
arrange( desc(nflight) ) %>%
left_join( airlines, by = carrier )
flights %>%
group_by( carrier ) %>%
summarize( nflight = n() ) %>%
arrange( desc(nflight) ) %>%
left_join( airlines, by = "carrier" )
str(airlines)
str(flights)
flights %>%
drop_na( arr_delay ) %>%
group_by( carrier ) %>%
summarize( AveArrivalDelay = mean(arr_delay) ) %>%
arrange( desc(AveArrivalDelay) ) %>%
left_join( airlines, by = "carrier" )
flights %>%
group_by( carrier ) %>%
summarize( AveArrivalDelay = mean(arr_delay, na.rm = TRUE) ) %>%
arrange( desc(AveArrivalDelay) ) %>%
left_join( airlines, by = "carrier" )
flights %>%
group_by( carrier ) %>%
summarize( AveArrivalDelay = mean(arr_delay, na.rm = TRUE) ) %>%
arrange( desc(AveArrivalDelay) ) %>%
left_join( airlines, by = "carrier" )
flights %>%
drop_na( arr_delay ) %>%
group_by( carrier ) %>%
summarize( AveArrivalDelay = mean(arr_delay) ) %>%
arrange( desc(AveArrivalDelay) ) %>%
left_join( airlines, by = "carrier" )
flights %>%
group_by( dest ) %>%
summarize( mean_arr_delay = mean(arr_delay, na.rm = TRUE) ) %>%
arrange( desc(mean_arr_delay) ) %>%
left_join( airports, by = c("dest" = "faa") )
flights %>%
group_by( dest ) %>%
summarize( mean_arr_delay = mean(arr_delay, na.rm = TRUE) ) %>%
arrange( desc(mean_arr_delay) ) %>%
left_join( airports, by = c("dest" = "faa") ) %>%
select( dest, mean_arr_delay, name )
flights %>%
group_by( dest ) %>%
summarize( mean_arr_delay = mean(arr_delay, na.rm = TRUE) ) %>%
arrange( desc(mean_arr_delay) ) %>%
left_join( airports, by = c("dest" = "faa") ) %>%
select( dest, name, mean_arr_delay )
library(tidyverse)
nimbus <- read_csv("C:/Xiaomin Lu/Training/R Training 2020/Advanced/Day 1 - tidyverse/Rmd Notes/nimbus.csv")
nimbus
library(haven)
adae <- read_sas("C:/Xiaomin Lu/Training/R Training 2020/Advanced/Day 1 - tidyverse/Rmd Notes/adae.sas7bdat")
adae
?View
View(adae)
adae <- read_sas("C:/Xiaomin Lu/Training/R Training 2020/Advanced/Day 1 - tidyverse/Rmd Notes/adae.sas7bdat")
View(adae)
adae
ggplot( adae ) +
geom_histogram( age )
ggplot( adae ) +
geom_histogram( aes(age) )
ggplot( adae ) +
geom_histogram( aes(AGE) )
View(adae)
adae
ggplot( adae ) +
geom_histogram( aes(AGE) )
ggplot( adae ) +
geom_bar( aes(RACE) )
adae <- group_by( sex ) %>%
summarise( nSex = n(), AveAge = mean( AGE, na.rm = TRUE) )
adae <- group_by( SEX ) %>%
summarise( nSex = n(), AveAge = mean( AGE, na.rm = TRUE) )
str(adae)
adae %>%  group_by( SEX ) %>%
summarise( nSex = n(), AveAge = mean( AGE, na.rm = TRUE) )
ggplot( adae ) +
geom_histogram( aes(AGE) )
ggplot( adae ) +
geom_bar( aes(RACE) )
adae %>%  group_by( SEX ) %>%
summarise( nSex = n(), AveAge = mean( AGE, na.rm = TRUE) )
adae %>%  filter( SEX == "F" ) %>%
group_by( COHORT ) %>%
summarise( AveAge = mean( AGE, na.rm = TRUE) )
