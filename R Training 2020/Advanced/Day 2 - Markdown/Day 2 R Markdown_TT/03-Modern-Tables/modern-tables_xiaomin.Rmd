---
title: "R Notebook"
output:
  word_document: default
  html_document:
    df_print: paged
---

```{r setup, include=FALSE}
library(tidyverse)
library(gt)

# first 10 unique model of car
mpg = mpg[!duplicated(mpg$model), ][1:10,]
```

# Your Turn 1

Visualize the mpg dataset 3 times:
1. First as just the normal mpg.
2. Then by piping it into the gt() function
3. Then by piping it into the gt() function, but setting the `rowname_col` parameter to `model`.

Note that plots now appear in the "Viewer" tab, not the "Plots" tab
```{r}
mpg %>% 
  gt( rowname_col = "model")
```

# Your Turn 2

Copy the gt table from the previous exercise
Add a title and subtitle with `tab_header`.
Add a footer with `tab_source_note`.
Extra credit: use `md` at least once to use markdown

```{r}
mpg %>% 
  gt( rowname_col = "model") %>% 
  tab_header( title = md("**title**"), subtitle = md("*subtitle*" ) ) %>% 
  tab_source_note( "source note") %>% 
  tab_footnote( footnote = "footnote", locations = cells_column_labels(columns = vars(trans) ) )

```

# Your Turn 3

Use `tab_row_group` to add two groups to mpg: 
* A group called "Older Cars" that has cars from 1999
* A group called "Newer Cars" that has cars from 2008
```{r}
mpg %>% 
  gt( rowname_col = "year" ) %>% 
  tab_header( title = md("**title**"), subtitle = md("*subtitle*" ) ) %>% 
  tab_source_note( "source note") %>% 
  tab_footnote( footnote = "footnote", locations = cells_column_labels(columns = vars(trans) ) ) %>% 
  tab_row_group( group = "Older Cars", rows = year == 1999, others = "Newer Cars" ) 

```

# Your Turn 4

Use the `tbl_summary` function in the `gtsummary` package to create a summary 
table of the data below.

Then set the `by` parameter to `trt`.

Read the help (`?tbl_summary`) to familiarize yourself with other options.
```{r}
library(gtsummary)

# view this variable, and then create a summary table of it
trial2 <- trial %>% select(trt, age, grade, response) 

tbl_summary( trial2 )

tbl_summary( trial2, by = trt) %>% 
  add_p() %>% 
  add_n()

```
